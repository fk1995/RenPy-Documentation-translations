
<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Screens and Screen Language &mdash; Ren&#39;Py Documentation</title>
    <link rel="stylesheet" href="_static/screen.css" type="text/css" media="screen, projection"/>
    <link rel="stylesheet" href="_static/renpydoc.css" type="text/css" media="print" />

    <!--[if lt IE 8]>
    <link rel="stylesheet" href="_static/renpydoc.css" type="text/css" media="screen, projection"/>
    <![endif]-->

    <link rel="stylesheet" href="_static/renpydoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '6.18.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ren&#39;Py Documentation" href="index.html" />
    <link rel="next" title="Screen Actions, Values, and Functions" href="screen_actions.html" />
    <link rel="prev" title="Style Properties" href="style_properties.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="screen_actions.html" title="Screen Actions, Values, and Functions"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="style_properties.html" title="Style Properties"
             accesskey="P">上一页</a> |</li>

        <li> <img src="_static/logo.png" width=19 height=21 align=center> 
        <li> <a href="http://www.renpy.org/">主页</a> |
        <li><a href="index.html">文档</a></li> 
      </ul>
    </div>
  <div class="container">
  <div class="span4">
    
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">Screens and Screen Language</a><ul>
<li><a class="reference internal" href="#screen-language">Screen Language</a><ul>
<li><a class="reference internal" href="#screen-language-syntax">Screen Language Syntax</a></li>
<li><a class="reference internal" href="#screen-statement">Screen Statement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#user-interface-statements">User Interface Statements</a><ul>
<li><a class="reference internal" href="#add">Add</a></li>
<li><a class="reference internal" href="#bar">Bar</a></li>
<li><a class="reference internal" href="#button">Button</a></li>
<li><a class="reference internal" href="#fixed">Fixed</a></li>
<li><a class="reference internal" href="#frame">Frame</a></li>
<li><a class="reference internal" href="#grid">Grid</a></li>
<li><a class="reference internal" href="#hbox">Hbox</a></li>
<li><a class="reference internal" href="#imagebutton">Imagebutton</a></li>
<li><a class="reference internal" href="#input">Input</a></li>
<li><a class="reference internal" href="#key">Key</a></li>
<li><a class="reference internal" href="#label">Label</a></li>
<li><a class="reference internal" href="#null">Null</a></li>
<li><a class="reference internal" href="#sl-mousearea">Mousearea</a></li>
<li><a class="reference internal" href="#side">Side</a></li>
<li><a class="reference internal" href="#text">Text</a></li>
<li><a class="reference internal" href="#textbutton">Textbutton</a></li>
<li><a class="reference internal" href="#timer">Timer</a></li>
<li><a class="reference internal" href="#transform">Transform</a></li>
<li><a class="reference internal" href="#vbar">Vbar</a></li>
<li><a class="reference internal" href="#vbox">Vbox</a></li>
<li><a class="reference internal" href="#viewport">Viewport</a></li>
<li><a class="reference internal" href="#window">Window</a></li>
</ul>
</li>
<li><a class="reference internal" href="#imagemap-statements">Imagemap Statements</a><ul>
<li><a class="reference internal" href="#imagemap">Imagemap</a></li>
<li><a class="reference internal" href="#hotspot">Hotspot</a></li>
<li><a class="reference internal" href="#hotbar">Hotbar</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-displayables">Advanced Displayables</a></li>
<li><a class="reference internal" href="#has-statement">Has Statement</a></li>
<li><a class="reference internal" href="#control-statements">Control Statements</a><ul>
<li><a class="reference internal" href="#default">Default</a></li>
<li><a class="reference internal" href="#for">For</a></li>
<li><a class="reference internal" href="#if">If</a></li>
<li><a class="reference internal" href="#on">On</a></li>
<li><a class="reference internal" href="#use">Use</a></li>
<li><a class="reference internal" href="#python">Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#screen-statements">Screen Statements</a><ul>
<li><a class="reference internal" href="#show-screen">Show Screen</a></li>
<li><a class="reference internal" href="#hide-screen">Hide Screen</a></li>
<li><a class="reference internal" href="#call-screen">Call Screen</a></li>
</ul>
</li>
<li><a class="reference internal" href="#screen-variants">Screen Variants</a></li>
</ul>
</li>
</ul>

  <h4>上一节</h4>
  <p class="topless"><a href="style_properties.html"
                        title="previous chapter">Style Properties</a></p>
  <h4>下一节</h4>
  <p class="topless"><a href="screen_actions.html"
                        title="next chapter">Screen Actions, Values, and Functions</a></p>
            <h4>Search</h4>
            
            <div id="cse-search-form" style="width: 100%;"></div>

      <div class="copydata">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    <br>
      </div>
        </div>
      </div>
  
  </div>
  
    
    <div class="document span20 last">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="screens-and-screen-language">
<span id="screens"></span><h1>Screens and Screen Language<a class="headerlink" href="#screens-and-screen-language" title="Permalink to this headline">¶</a></h1>
<p>The things that a user sees when looking at a Ren'Py game can be
broken divided into images and user interface. Images are displayed to
the user using the scene, show, and hide statements, and are generally
part of the story being told. Everything else the user sees is part of
the user interface, which is customized using screens.</p>
<p>Screens can be displayed in four ways:</p>
<ul class="simple">
<li>Implicitly, when script statements execute. For example,
the say statement will cause the <cite>say</cite> screen to be displayed.</li>
<li>Automatically. For example, Ren'Py will display the <cite>main_menu</cite>
screen when it starts running, or when the user returns to the
main menu.</li>
<li>As an action, associated with a button, mouse button, or keyboard
key. By default, the <cite>save</cite> screen is shown when the user
right-clicks or presses escape. It's also possible to define an
on-screen button that shows the <cite>save</cite> screen.</li>
<li>Explicitly, using statements that cause screens to be shown.</li>
</ul>
<p>More than one screen can be shown at a time.</p>
<p>Screens have two main functions. The first is to display information
to the user. Information can be displayed using text, bars, and
images. Some of the information displayed in this manner is vital to
gameplay. The <cite>say</cite> screen, for example, is used to display dialogue
to the user, including the character's name and what she is saying.</p>
<p>The other thing a screen can do is to allow the user to interact with
the game. Buttons and bars allow the user to invoke actions and adjust
values. Ren'Py includes a pool of pre-defined actions, allowing the
user to advance the game, control preferences, load and save games,
and invoke many other actions. A game-maker can also write new actions
in Python.</p>
<p>Screens are updated at the start of each interaction, and each time an
interaction is restarted.</p>
<p><strong>Screen code must not cause side effects that are visible from
outside the screen.</strong> Ren'Py will run screen code multiple times, as
it deems necessary. It runs screen code as part of the image
prediction process, before the screen is first shown. As a result, if
screen code has side effects, those side effects may occur at
unpredictable times.</p>
<p>A screen has a scope associated with it, giving values to some
variables. When a variable is accessed by a screen, it's first looked
up in the scope, and then looked up as a global variable.</p>
<div class="section" id="screen-language">
<h2>Screen Language<a class="headerlink" href="#screen-language" title="Permalink to this headline">¶</a></h2>
<p>The screen language is a mostly-declarative way of displaying
screens. It consists of a statement that declares a new screen,
statements that add displayables to that screen, and control
statements.</p>
<p>Here's an example of a screen.:</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">say</span><span class="p">:</span>
    <span class="k">window</span> <span class="na">id</span> <span class="s">&quot;window&quot;</span><span class="p">:</span>
        <span class="k">vbox</span><span class="p">:</span>
            <span class="na">spacing</span> <span class="mi">10</span>

            <span class="k">text</span> <span class="n">who</span> <span class="na">id</span> <span class="s">&quot;who&quot;</span>
            <span class="k">text</span> <span class="n">what</span> <span class="na">id</span> <span class="s">&quot;what&quot;</span>
</pre></div>
</div>
<p>The first line of this is a screen statement, a Ren'Py language
statement that's used to declare a screen. The name of the screen is
<cite>say</cite>, so this is the screen that's used to display dialogue.</p>
<p>The screen contains a window, which has been given the id of
&quot;window&quot;. This window contains a vertical box, and the spacing inside
that box is 10 pixels. It contains two text fields, one of the name of
the speaker, and the other with the speaker's id.</p>
<div class="section" id="screen-language-syntax">
<h3>Screen Language Syntax<a class="headerlink" href="#screen-language-syntax" title="Permalink to this headline">¶</a></h3>
<p>Most screen language statements share a common syntax. (Some of the
control statements have other syntaxes.)  A statement starts at the
beginning of a line, with a keyword that introduces the statement.</p>
<p>If a statement takes parameters, they immediately follow the
keyword. The parameters are space-separated simple expressions, unless
otherwise noted.</p>
<p>The positional parameters are followed by a property list. A property
consists of the property name, followed by the value of that
property. Property values are simple expressions, unless otherwise
noted. A property list is a space-separated list of these properties.</p>
<p>If a statement ends with a colon (:), then it takes a block. Each line
in a block may be one of two things:</p>
<ul class="simple">
<li>A property list.</li>
<li>A screen language statement.</li>
</ul>
</div>
<div class="section" id="screen-statement">
<h3>Screen Statement<a class="headerlink" href="#screen-statement" title="Permalink to this headline">¶</a></h3>
<p>The <cite>screen</cite> statement is a Ren'Py script language statement that is
used to declare a new screen. It is parsed using the screen language
common syntax.</p>
<p>It takes one parameter, the name of the screen. This is a name, not an
expression. It takes the following properties:</p>
<dl class="docutils">
<dt><cite>modal</cite></dt>
<dd>If True, the screen is modal. A modal screen prevents the user
from interacting with displayables below it, except
for the default keymap.</dd>
<dt><cite>tag</cite></dt>
<dd>Parsed as a name, not an expression. This specifies a tag
associated with this screen. Showing a screen replaces other
screens with the same tag. This can be used to ensure that only
one screen of a menu is shown at a time, in the same context.</dd>
<dt><cite>zorder</cite></dt>
<dd>This controls how close to the user a screen is displayed. The
larger the number, the closer the screen is displayed to the
user. It defaults to 0.</dd>
<dt><cite>variant</cite></dt>
<dd>If present, this should be a string giving the variant of screen
to be defined. See <a class="reference internal" href="#screen-variants"><em>Screen Variants</em></a>.</dd>
</dl>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">hello_world</span><span class="p">:</span>
     <span class="n">tag</span> <span class="n">example</span>
     <span class="k">zorder</span> <span class="mi">1</span>
     <span class="n">modal</span> <span class="bp">False</span>

     <span class="k">text</span> <span class="s">&quot;Hello, World.&quot;</span>
</pre></div>
</div>
<p>A screen can take a parameter list:</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">center_text</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="na">size</span><span class="o">=</span><span class="mi">42</span><span class="p">):</span>
     <span class="k">text</span> <span class="n">s</span> <span class="na">size</span> <span class="na">size</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="user-interface-statements">
<h2>User Interface Statements<a class="headerlink" href="#user-interface-statements" title="Permalink to this headline">¶</a></h2>
<p>The user interface statements create displayables and add them either
to the screen, or to an enclosing displayable. They allow the user to
display information, allow the user to interact with the game, or
allow the game to react to various events.</p>
<p id="common-properties">All user interface statements take the following common properties:</p>
<dl class="docutils">
<dt><cite>at</cite></dt>
<dd><p class="first">A transform, or list of transforms, that are used to wrap this
displayable. The show, hide, replace, and replaced external events
are delivered to a transform if and only if it is added directly
to the screen.</p>
<p class="last">For example, if a vbox is wrapped in a transform, and added directly
to the screen, then events are delivered to that transform. But if
a transform wraps a textbutton that is added to the vbox, this
second transform is not given events.</p>
</dd>
<dt><cite>default</cite></dt>
<dd>If given and true, the displayable is focused by default. Only one
displayable should have this.</dd>
<dt><cite>id</cite></dt>
<dd><p class="first">An identifier for the user-interface statement. When a screen is
shown, property values can be supplied for the displayables with a
given identifier. Some screens will require that a displayable
with a given identifier is created.</p>
<p class="last">By default, the id is automatically-generated.</p>
</dd>
<dt><cite>style</cite></dt>
<dd>The name of the style applied to this displayable. This may be a
string name, or a style object. The style gives default
values for style properties.</dd>
<dt><cite>style_group</cite></dt>
<dd><p class="first" id="style-group">Style_group is used to provide a prefix to the style of a displayable,
for this displayable and all of its children (unless they have a
more specific group set).</p>
<p>For example, if a vbox has a group of <tt class="docutils literal"><span class="pre">&quot;pref&quot;</span></tt>, then the vbox will
have the style <tt class="docutils literal"><span class="pre">&quot;pref_vbox&quot;</span></tt>, unless a more specific style is
supplied to it. A button inside that vbox would default to the
style <tt class="docutils literal"><span class="pre">&quot;pref_button&quot;</span></tt>.</p>
<p>Styles accessed in this way are automatically created, if they do
not exist. This prevents an error from being signalled.</p>
<p class="last">Setting a group of <tt class="docutils literal"><span class="pre">None</span></tt> disables this behavior for a
displayable and all of its children.</p>
</dd>
<dt><cite>focus</cite></dt>
<dd>Takes a string or integer, and gives a name to the displayable
for focus purposes. Ren'Py looks for structural similarity between
focus names when deciding with displayable to give focus to at the
start of an interaction. If a box is given a focus name, and the
third button in that box is focused at the end of an interaction,
the third button of a box with the same will be highlighted at
the start of the next interaction.</dd>
</dl>
<p>Many user interface statements take classes of style properties, or
transform properties. These properties can have a style prefix
associated with them, that determines when they apply. For example, if
text is given the hover_size property, it sets the text size when the
text is hovered.</p>
<div class="section" id="add">
<span id="sl-add"></span><h3>Add<a class="headerlink" href="#add" title="Permalink to this headline">¶</a></h3>
<p>Adds an image or other displayable to the screen. This optionally
takes <a class="reference internal" href="atl.html#transform-properties"><em>transform properties</em></a>. If at least
one transform property is given, a Transform is created to wrap the
image, and the properties are given to the transform.</p>
<p>This does not take any children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">add_test</span><span class="p">:</span>
    <span class="k">add</span> <span class="s">&quot;logo.png&quot;</span> <span class="na">xalign</span> <span class="mf">1.0</span> <span class="na">yalign</span> <span class="mf">0.0</span>
</pre></div>
</div>
</div>
<div class="section" id="bar">
<span id="sl-bar"></span><h3>Bar<a class="headerlink" href="#bar" title="Permalink to this headline">¶</a></h3>
<p>Creates a horizontally-oriented bar that can be used to view or adjust
data. It takes the following properties:</p>
<dl class="docutils">
<dt><cite>value</cite></dt>
<dd>The current value of the bar. This can be either a BarValue object,
or a number.</dd>
<dt><cite>range</cite></dt>
<dd>The maximum value of the bar. This is required if <cite>value</cite> is a
number.</dd>
<dt><cite>adjustment</cite></dt>
<dd>A <a class="reference internal" href="screen_python.html#ui.adjustment" title="ui.adjustment"><tt class="xref py py-func docutils literal"><span class="pre">ui.adjustment()</span></tt></a> object that this bar adjusts.</dd>
<dt><cite>changed</cite></dt>
<dd>If given, this should be a python function. The function is called
with the value of the adjustment when the adjustment is changed.</dd>
<dt><cite>hovered</cite></dt>
<dd>An action to run when the bar gains focus.</dd>
<dt><cite>unhovered</cite></dt>
<dd>An action to run when the bar loses focus.</dd>
</dl>
<p>One of <cite>value</cite> or <cite>adjustment</cite> must be given. In addition, this
function takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#bar-style-properties"><em>Bar Style Properties</em></a></li>
</ul>
<p>This does not take children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">volume_controls</span><span class="p">:</span>
    <span class="k">frame</span><span class="p">:</span>
        <span class="k">has</span> <span class="k">vbox</span>

        <span class="k">bar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;sound volume&quot;</span><span class="p">)</span>
        <span class="k">bar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;music volume&quot;</span><span class="p">)</span>
        <span class="k">bar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;voice volume&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="button">
<span id="sl-button"></span><h3>Button<a class="headerlink" href="#button" title="Permalink to this headline">¶</a></h3>
<p>Creates an area of the screen that can be activated to run an
action. A button takes no parameters, and the following properties.</p>
<dl class="docutils">
<dt><cite>action</cite></dt>
<dd>The action to run when the button is activated. A button is activated
when it is clicked, or when the player selects it and hits enter on the
keyboard. This also controls if the button is sensitive, and if the button
is selected.</dd>
<dt><cite>alternate</cite></dt>
<dd>An action that is run if the button is activated in an alternate manner.
Alternate activation occurs when the player right-clicks on the button
on a mouse-based platform, or when the player long presses the button
on a touch-based platform.</dd>
<dt><cite>hovered</cite></dt>
<dd>An action to run when the button gains focus.</dd>
<dt><cite>unhovered</cite></dt>
<dd>An action to run when the button loses focus.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#window-style-properties"><em>Window Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#button-style-properties"><em>Button Style Properties</em></a></li>
</ul>
<p>It takes one children. If zero, two, or more children are supplied,
they are implicitly added to a fixed, which is added to the button.</p>
</div>
<div class="section" id="fixed">
<span id="sl-fixed"></span><h3>Fixed<a class="headerlink" href="#fixed" title="Permalink to this headline">¶</a></h3>
<p>This creates an area to which children can be added. By default, the
fixed expands to fill the available area, but the <a class="reference internal" href="style_properties.html#style-property-xmaximum"><tt class="xref std std-propref docutils literal"><span class="pre">xmaximum</span></tt></a>
and <a class="reference internal" href="style_properties.html#style-property-ymaximum"><tt class="xref std std-propref docutils literal"><span class="pre">ymaximum</span></tt></a> properties can change this.</p>
<p>The children are laid out according to their position style
properties. They can overlap if not positioned properly.</p>
<p>The fixed statement takes no parameters, and the following groups of
properties:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#fixed-style-properties"><em>Fixed Style Properties</em></a></li>
</ul>
<p>This takes any number of children, which are added to the fixed.</p>
<p>It's often unnecessary to explicitly create a fixed displayable. Each
screen is contained within a fixed displayable, and many screen
language statements automatically create a fixed displayable if they
have two or more children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">ask_are_you_sure</span><span class="p">:</span>
    <span class="k">fixed</span><span class="p">:</span>
         <span class="k">text</span> <span class="s">&quot;Are you sure?&quot;</span> <span class="na">xalign</span> <span class="mf">0.5</span> <span class="na">yalign</span> <span class="mf">0.3</span>
         <span class="k">textbutton</span> <span class="s">&quot;Yes&quot;</span> <span class="na">xalign</span> <span class="mf">0.33</span> <span class="na">yalign</span> <span class="mf">0.5</span> <span class="na">action</span> <span class="n">Return</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
         <span class="k">textbutton</span> <span class="s">&quot;No&quot;</span> <span class="na">xalign</span> <span class="mf">0.66</span> <span class="na">yalign</span> <span class="mf">0.5</span> <span class="na">action</span> <span class="n">Return</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="frame">
<span id="sl-frame"></span><h3>Frame<a class="headerlink" href="#frame" title="Permalink to this headline">¶</a></h3>
<p>A frame is a window that contains a background that is intended for
displaying user-interface elements like buttons, bars, and text. It
takes the following groups of properties:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#window-style-properties"><em>Window Style Properties</em></a></li>
</ul>
<p>It takes one child. If zero, two, or more children are supplied, then
a fixed is created to contain them.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">test_frame</span><span class="p">:</span>
    <span class="k">frame</span><span class="p">:</span>
        <span class="na">xpadding</span> <span class="mi">10</span>
        <span class="na">ypadding</span> <span class="mi">10</span>
        <span class="na">xalign</span> <span class="mf">0.5</span>
        <span class="na">yalign</span> <span class="mf">0.5</span>

        <span class="k">vbox</span><span class="p">:</span>
            <span class="k">text</span> <span class="s">&quot;Display&quot;</span>
            <span class="k">null</span> <span class="na">height</span> <span class="mi">10</span>
            <span class="k">textbutton</span> <span class="s">&quot;Fullscreen&quot;</span> <span class="na">action</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;fullscreen&quot;</span><span class="p">)</span>
            <span class="k">textbutton</span> <span class="s">&quot;Window&quot;</span> <span class="na">action</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;window&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="grid">
<span id="sl-grid"></span><h3>Grid<a class="headerlink" href="#grid" title="Permalink to this headline">¶</a></h3>
<p>This displays its children in a grid. Each child is given an area of
the same size, the size of the largest child.</p>
<p>It takes two parameters. The first is the number of columns in the
grid, and the second is the number of rows in the grid. It takes the
following property:</p>
<dl class="docutils">
<dt><cite>transpose</cite></dt>
<dd>If False (the default), rows are filled before columns. If True,
then columns are filled before rows.</dd>
<dt><cite>spacing</cite></dt>
<dd>The spacing between the rows and columns of the grid.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
</ul>
<p>This must be given columns * rows children. Giving it a different
number of children is an error.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">grid_test</span><span class="p">:</span>
     <span class="k">grid</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">:</span>
         <span class="k">text</span> <span class="s">&quot;Top-Left&quot;</span>
         <span class="k">text</span> <span class="s">&quot;Top-Right&quot;</span>

         <span class="k">text</span> <span class="s">&quot;Center-Left&quot;</span>
         <span class="k">text</span> <span class="s">&quot;Center-Right&quot;</span>

         <span class="k">text</span> <span class="s">&quot;Bottom-Left&quot;</span>
         <span class="k">text</span> <span class="s">&quot;Bottom-Right&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="hbox">
<span id="sl-hbox"></span><h3>Hbox<a class="headerlink" href="#hbox" title="Permalink to this headline">¶</a></h3>
<p>This displays its children side by side, in an invisible horizontal
box. It takes no parameters, and the following groups of properties:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#box-style-properties"><em>Box Style Properties</em></a></li>
</ul>
<p>UI displayable children are added to the box.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">hbox_text</span><span class="p">:</span>
    <span class="k">hbox</span><span class="p">:</span>
         <span class="k">text</span> <span class="s">&quot;Left&quot;</span>
         <span class="k">text</span> <span class="s">&quot;Right&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="imagebutton">
<span id="sl-imagebutton"></span><h3>Imagebutton<a class="headerlink" href="#imagebutton" title="Permalink to this headline">¶</a></h3>
<p>Creates a button consisting of images, that change state when the user
hovers over them. This takes no parameters, and the following
properties:</p>
<dl class="docutils">
<dt><cite>auto</cite></dt>
<dd><p class="first">Used to automatically define the images used by this button. This
should be a string that contains %s in it. If it is, and one of
the image properties is omitted, %s is replaced with the name of
that property, and the value is used as the default for that
property.</p>
<p>For example, if <cite>auto</cite> is &quot;button_%s.png&quot;, and <cite>idle</cite> is omitted, then
idle defaults to &quot;button_idle.png&quot;.</p>
<p class="last">The behavior of <cite>auto</cite> can be customized by changing
<a class="reference internal" href="config.html#var-config.imagemap_auto_function"><tt class="xref std std-var docutils literal"><span class="pre">config.imagemap_auto_function</span></tt></a>.</p>
</dd>
<dt><cite>insensitive</cite></dt>
<dd>The image used when the button is insensitive.</dd>
<dt><cite>idle</cite></dt>
<dd>The image used when the button is not focused.</dd>
<dt><cite>hover</cite></dt>
<dd>The image used when the button is focused.</dd>
<dt><cite>selected_idle</cite></dt>
<dd>The image used when the button is selected and idle.</dd>
<dt><cite>selected_hover</cite></dt>
<dd>The image used when the button is selected and hovered.</dd>
<dt><cite>action</cite></dt>
<dd>The action to run when the button is activated. This also controls
if the button is sensitive, and if the button is selected.</dd>
<dt><cite>hovered</cite></dt>
<dd>An action to run when the button gains focus.</dd>
<dt><cite>unhovered</cite></dt>
<dd>An action to run when the button loses focus.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#window-style-properties"><em>Window Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#button-style-properties"><em>Button Style Properties</em></a></li>
</ul>
<p>This takes no children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">gui_game_menu</span><span class="p">:</span>
     <span class="k">vbox</span> <span class="na">xalign</span> <span class="mf">1.0</span> <span class="na">yalign</span> <span class="mf">1.0</span><span class="p">:</span>
          <span class="k">imagebutton</span> <span class="na">auto</span> <span class="s">&quot;save_</span><span class="si">%s</span><span class="s">.png&quot;</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s">&#39;save&#39;</span><span class="p">)</span>
          <span class="k">imagebutton</span> <span class="na">auto</span> <span class="s">&quot;prefs_</span><span class="si">%s</span><span class="s">.png&quot;</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s">&#39;preferences&#39;</span><span class="p">)</span>
          <span class="k">imagebutton</span> <span class="na">auto</span> <span class="s">&quot;skip_</span><span class="si">%s</span><span class="s">.png&quot;</span> <span class="na">action</span> <span class="n">Skip</span><span class="p">()</span>
          <span class="k">imagebutton</span> <span class="na">auto</span> <span class="s">&quot;afm_</span><span class="si">%s</span><span class="s">.png&quot;</span> <span class="na">action</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;auto-forward mode&quot;</span><span class="p">,</span> <span class="s">&quot;toggle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="input">
<span id="sl-input"></span><h3>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h3>
<p>Creates a text input area, which allows the user to enter text. When
the user presses return, the text will be returned by the
interaction. This takes no parameters, and the following properties:</p>
<dl class="docutils">
<dt><cite>default</cite></dt>
<dd>The default text in this input.</dd>
<dt><cite>length</cite></dt>
<dd>The maximum length of the text in this input.</dd>
<dt><cite>pixel_width</cite></dt>
<dd>The maximum pixel width of the input. If typing a character would
cause the input to exceed this width, the keypress is ignored.</dd>
<dt><cite>allow</cite></dt>
<dd>A string containing characters that are allowed to be typed into
this input. (By default, allow all characters.)</dd>
<dt><cite>exclude</cite></dt>
<dd>A string containing characters that are disallowed from being
typed into this input. (By default, &quot;{}&quot;.)</dd>
<dt><cite>prefix</cite></dt>
<dd>An immutable string to prepend to what the user has typed.</dd>
<dt><cite>suffix</cite></dt>
<dd>An immutable string to append to what the user has typed.</dd>
<dt><cite>changed</cite></dt>
<dd>A python function that is called with what the user has typed,
when the string changes.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#text-style-properties"><em>Text Style Properties</em></a></li>
</ul>
<p>This does not take any children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">input_screen</span><span class="p">:</span>
    <span class="k">window</span><span class="p">:</span>
        <span class="k">has</span> <span class="k">vbox</span>

        <span class="k">text</span> <span class="s">&quot;Enter your name.&quot;</span>
        <span class="nb">input</span> <span class="na">default</span> <span class="s">&quot;Joseph P. Blow, ESQ.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="key">
<span id="sl-key"></span><h3>Key<a class="headerlink" href="#key" title="Permalink to this headline">¶</a></h3>
<p>This creates a keybinding that runs an action when a key is
pressed. Key is used in a loose sense here, as it also allows joystick
and mouse events.</p>
<p>Key takes one positional parameter, a string giving the key to
bind. See the <a class="reference internal" href="keymap.html#keymap"><em>Customizing the Keymap</em></a> section for a description of available
keysyms. It takes one property:</p>
<dl class="docutils">
<dt><cite>action</cite></dt>
<dd>This gives an action that is run when the key is pressed. This
property is mandatory.</dd>
</dl>
<p>It takes no children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">keymap_screen</span><span class="p">:</span>
    <span class="k">key</span> <span class="s">&quot;game_menu&quot;</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s">&#39;save&#39;</span><span class="p">)</span>
    <span class="k">key</span> <span class="s">&quot;p&quot;</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s">&#39;preferences&#39;</span><span class="p">)</span>
    <span class="k">key</span> <span class="s">&quot;s&quot;</span> <span class="na">action</span> <span class="n">Screenshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="label">
<span id="sl-label"></span><h3>Label<a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h3>
<p>Creates a window in the label style, and then places text inside that
window. Together, this combination is used to label things inside a
frame.</p>
<p>It takes one positional argument, the text of the label. It takes
the property:</p>
<dl class="docutils">
<dt><cite>text_style</cite></dt>
<dd>The name of the style to use for the button text. If not supplied,
and the <cite>style</cite> property is a string, then <tt class="docutils literal"><span class="pre">&quot;_text&quot;</span></tt> is appended
to that string to give the default text style.</dd>
<dt><cite>text_</cite>-</dt>
<dd>Other properties prefixed with <a class="reference internal" href="#text">text</a> have this prefix stripped, and
are then passed to the text displayable.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#window-style-properties"><em>Window Style Properties</em></a></li>
</ul>
<p>It does not take children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">display_preference</span><span class="p">:</span>
    <span class="k">frame</span><span class="p">:</span>
        <span class="k">has</span> <span class="k">vbox</span>

        <span class="k">label</span> <span class="s">&quot;Display&quot;</span>
        <span class="k">textbutton</span> <span class="s">&quot;Fullscreen&quot;</span> <span class="na">action</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;fullscreen&quot;</span><span class="p">)</span>
        <span class="k">textbutton</span> <span class="s">&quot;Window&quot;</span> <span class="na">action</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;window&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="null">
<span id="sl-null"></span><h3>Null<a class="headerlink" href="#null" title="Permalink to this headline">¶</a></h3>
<p>The null statement inserts an empty area on the screen. This can be
used to space things out. The null statement takes no parameters, and
the following properties:</p>
<dl class="docutils">
<dt><cite>width</cite></dt>
<dd>The width of the empty area, in pixels.</dd>
<dt><cite>height</cite></dt>
<dd>The height of the empty area, in pixels.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
</ul>
<p>It does not take children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">text_box</span><span class="p">:</span>
    <span class="k">vbox</span><span class="p">:</span>
         <span class="k">text</span> <span class="s">&quot;The title.&quot;</span>
         <span class="k">null</span> <span class="na">height</span> <span class="mi">20</span>
         <span class="k">text</span> <span class="s">&quot;This body text.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="sl-mousearea">
<span id="mousearea"></span><span id="id1"></span><h3>Mousearea<a class="headerlink" href="#sl-mousearea" title="Permalink to this headline">¶</a></h3>
<p>A mouse area is an area of the screen that can react to the mouse
entering or leaving it. Unlike a button, a mouse area does not take
focus, so it's possible to have a mouse area with buttons inside it.
The mousearea statement takes not parameters, and the following properties:</p>
<dl class="docutils">
<dt><cite>hovered</cite></dt>
<dd>An action to run when the mouse enters the mouse area.</dd>
<dt><cite>unhovered</cite></dt>
<dd>An action to run when the mouse leaves the mouse area.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
</ul>
<p>It does not take children.</p>
<p>Usually, a mousearea statement is given the <a class="reference internal" href="style_properties.html#style-property-area"><tt class="xref std std-propref docutils literal"><span class="pre">area</span></tt></a> style
property, which controls the size and position of the mouse
area. Without some way of controlling its size, the mouse area would
take up the entire screen, a less useful behavior.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since Ren'Py games can be played using the keyboard and joystick, it
often makes sense to duplicate mousearea functionality by some other
means.</p>
</div>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">button_overlay</span><span class="p">:</span>
    <span class="n">mousearea</span><span class="p">:</span>
        <span class="na">area</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="na">hovered</span> <span class="n">Show</span><span class="p">(</span><span class="s">&quot;buttons&quot;</span><span class="p">,</span> <span class="n">transition</span><span class="o">=</span><span class="n">dissolve</span><span class="p">)</span>
        <span class="na">unhovered</span> <span class="n">Hide</span><span class="p">(</span><span class="s">&quot;buttons&quot;</span><span class="p">,</span> <span class="n">transition</span><span class="o">=</span><span class="n">dissolve</span><span class="p">)</span>

<span class="k">screen</span> <span class="n">buttons</span><span class="p">:</span>
    <span class="k">hbox</span><span class="p">:</span>
        <span class="k">textbutton</span> <span class="s">&quot;Save&quot;</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s">&quot;save&quot;</span><span class="p">)</span>
        <span class="k">textbutton</span> <span class="s">&quot;Prefs&quot;</span> <span class="na">action</span> <span class="n">ShowMenu</span><span class="p">(</span><span class="s">&quot;preferences&quot;</span><span class="p">)</span>
        <span class="k">textbutton</span> <span class="s">&quot;Skip&quot;</span> <span class="na">action</span> <span class="n">Skip</span><span class="p">()</span>
        <span class="k">textbutton</span> <span class="s">&quot;Auto&quot;</span> <span class="na">action</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;auto-forward&quot;</span><span class="p">,</span> <span class="s">&quot;toggle&quot;</span><span class="p">)</span>

<span class="k">label</span> <span class="n">start</span><span class="p">:</span>
    <span class="k">show</span> <span class="k">screen</span> <span class="n">button_overlay</span>
</pre></div>
</div>
</div>
<div class="section" id="side">
<span id="sl-side"></span><h3>Side<a class="headerlink" href="#side" title="Permalink to this headline">¶</a></h3>
<p>This positions displayables in the corners or center of a grid. It
takes a single parameter, string containing a space-separated list of
places to place its children. Each component of this list should be
one of:</p>
<blockquote>
<div>'c', 't', 'b', 'l', 'r', 'tl', 'tr', 'bl', 'br'</div></blockquote>
<p>'c' means center, 't' top, 'tl' top left, 'br' bottom right, and so on.</p>
<p>A side takes the following properties:</p>
<dl class="docutils">
<dt><cite>spacing</cite></dt>
<dd>The spacing between the rows and columns of the grid.</dd>
</dl>
<p>A side takes the following property groups:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
</ul>
<p>When being rendered, this first sizes the corners, then the sides,
then the center. The corners and sides are rendered with an available
area of 0, so it may be necessary to supply them a minimum size (using
<a class="reference internal" href="style_properties.html#style-property-xminimum"><tt class="xref std std-propref docutils literal"><span class="pre">xminimum</span></tt></a> or <a class="reference internal" href="style_properties.html#style-property-yminimum"><tt class="xref std std-propref docutils literal"><span class="pre">yminimum</span></tt></a>) to ensure they render at
all.</p>
<p>Children correspond to entries in the places list, so this must have
the same number of children as there are entries in the places list.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">side_test</span><span class="p">:</span>
     <span class="k">side</span> <span class="s">&quot;c tl br&quot;</span><span class="p">:</span>
          <span class="k">text</span> <span class="s">&quot;Center&quot;</span>
          <span class="k">text</span> <span class="s">&quot;Top-Left&quot;</span>
          <span class="k">text</span> <span class="s">&quot;Bottom-Right&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="text">
<span id="sl-text"></span><h3>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h3>
<p>The text statement displays text. It takes a single parameter, the
text to display. It also takes the following groups of properties:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#text-style-properties"><em>Text Style Properties</em></a></li>
</ul>
<p>It does not take children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">hello_world</span><span class="p">:</span>
    <span class="k">text</span> <span class="s">&quot;Hello, World.&quot;</span> <span class="na">size</span> <span class="mi">40</span>
</pre></div>
</div>
</div>
<div class="section" id="textbutton">
<span id="sl-textbutton"></span><h3>Textbutton<a class="headerlink" href="#textbutton" title="Permalink to this headline">¶</a></h3>
<p>Creates a button containing a text label. The button takes a single
parameter, the text to include as part of the button. It takes the
following properties:</p>
<dl class="docutils">
<dt><cite>action</cite></dt>
<dd>The action to run when the button is activated. This also controls
if the button is sensitive, and if the button is selected.</dd>
<dt><cite>hovered</cite></dt>
<dd>An action to run when the button gains focus.</dd>
<dt><cite>unhovered</cite></dt>
<dd>An action to run when the button loses focus.</dd>
<dt><cite>text_style</cite></dt>
<dd>The name of the style to use for the button text. If not supplied,
and the <cite>style</cite> property is a string, then <tt class="docutils literal"><span class="pre">&quot;_text&quot;</span></tt> is appended
to that string to give the default text style.</dd>
<dt><cite>text_</cite>-</dt>
<dd>Other properties prefixed with <a class="reference internal" href="#text">text</a> have this prefix stripped, and are
then passed to the text displayable.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#window-style-properties"><em>Window Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#button-style-properties"><em>Button Style Properties</em></a></li>
</ul>
<p>It does not take children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">textbutton_screen</span><span class="p">:</span>
    <span class="k">vbox</span><span class="p">:</span>
        <span class="k">textbutton</span> <span class="s">&quot;Wine&quot;</span> <span class="na">action</span> <span class="n">Jump</span><span class="p">(</span><span class="s">&quot;wine&quot;</span><span class="p">)</span>
        <span class="k">textbutton</span> <span class="s">&quot;Women&quot;</span> <span class="na">action</span> <span class="n">Jump</span><span class="p">(</span><span class="s">&quot;women&quot;</span><span class="p">)</span>
        <span class="k">textbutton</span> <span class="s">&quot;Song&quot;</span> <span class="na">action</span> <span class="n">Jump</span><span class="p">(</span><span class="s">&quot;song&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="timer">
<span id="sl-timer"></span><h3>Timer<a class="headerlink" href="#timer" title="Permalink to this headline">¶</a></h3>
<p>This creates a timer that runs an action when time runs out. It takes
one positional parameter, giving the timeout time, in seconds. It
takes the properties:</p>
<dl class="docutils">
<dt><cite>action</cite></dt>
<dd>This gives an action that is run when the timer expires. This
property is mandatory.</dd>
<dt><cite>repeat</cite></dt>
<dd>If True, the timer repeats after it times out.</dd>
</dl>
<p>It takes no children.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">timer_test</span><span class="p">:</span>
    <span class="k">vbox</span><span class="p">:</span>
         <span class="k">textbutton</span> <span class="s">&quot;Yes.&quot;</span> <span class="na">action</span> <span class="n">Jump</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">)</span>
         <span class="k">textbutton</span> <span class="s">&quot;No.&quot;</span> <span class="na">action</span> <span class="n">Jump</span><span class="p">(</span><span class="s">&quot;no&quot;</span><span class="p">)</span>

    <span class="k">timer</span> <span class="mf">3.0</span> <span class="na">action</span> <span class="n">Jump</span><span class="p">(</span><span class="s">&quot;too_slow&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="transform">
<span id="sl-transform"></span><h3>Transform<a class="headerlink" href="#transform" title="Permalink to this headline">¶</a></h3>
<p>Applies a transform to its child. This takes no parameters, and the
following property groups :</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="atl.html#transform-properties"><em>Transform Properties</em></a></li>
</ul>
<p>This should take a single child.</p>
</div>
<div class="section" id="vbar">
<span id="sl-vbar"></span><h3>Vbar<a class="headerlink" href="#vbar" title="Permalink to this headline">¶</a></h3>
<p>The vertically oriented equivalent of <a class="reference internal" href="#bar">bar</a>. Properties are the same
as <cite>bar</cite>.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">volume_controls</span><span class="p">:</span>
     <span class="k">frame</span><span class="p">:</span>
         <span class="k">has</span> <span class="k">hbox</span>

         <span class="k">vbar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;sound volume&quot;</span><span class="p">)</span>
         <span class="k">vbar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;music volume&quot;</span><span class="p">)</span>
         <span class="k">vbar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;voice volume&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="vbox">
<span id="sl-vbox"></span><h3>Vbox<a class="headerlink" href="#vbox" title="Permalink to this headline">¶</a></h3>
<p>This displays its children one above the other, in an invisible
vertical box. It takes no parameters, and the following groups of
properties:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#box-style-properties"><em>Box Style Properties</em></a></li>
</ul>
<p>UI displayable children are added to the box.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">vbox_test</span><span class="p">:</span>
    <span class="k">vbox</span><span class="p">:</span>
         <span class="k">text</span> <span class="s">&quot;Top.&quot;</span>
         <span class="k">text</span> <span class="s">&quot;Bottom.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="viewport">
<span id="sl-viewport"></span><h3>Viewport<a class="headerlink" href="#viewport" title="Permalink to this headline">¶</a></h3>
<p>A viewport is area of the screen that can be scrolled by dragging,
with the mouse wheel, or with scrollbars. It can be used to display
part of something that is bigger than the screen. It takes the
following properties:</p>
<dl class="docutils">
<dt><cite>child_size</cite></dt>
<dd>The size that is offered to the child for rendering. An (<cite>xsize</cite>,
<cite>ysize</cite>) tuple. This can usually be omitted, when the child can
compute it's own size. If either component is None, the child's
size is used.</dd>
<dt><cite>mousewheel</cite></dt>
<dd>If True, the mouse wheel can be used to scroll the viewport.</dd>
<dt><cite>draggable</cite></dt>
<dd>If True, dragging the mouse will scroll the viewport.</dd>
<dt><cite>edgescroll</cite></dt>
<dd><p class="first">Controlls scrolling when the mouse reaches the edge of the
viewport. If not None, this should be a two- or three-element
tuple:</p>
<ul class="last simple">
<li>The first element in the tuple is the distance from
the edge of the viewport that edgescrolling begins to take
effect, in pixels.</li>
<li>The second element is the maximum scrolling rate, in pixels per
second.</li>
<li>If present, the third element is a function that adjusts the
scrolling speed, based on how close to the pointer is to an
edge. The function should take a number between 0.0 and 1.0, and
return a number in the same range. The default function returns
its input, and implements proportional scrolling.  A function
that always returns 1.0 would implement constant-speed
scrolling.</li>
</ul>
</dd>
<dt><cite>xadjustment</cite></dt>
<dd>The <a class="reference internal" href="screen_python.html#ui.adjustment" title="ui.adjustment"><tt class="xref py py-func docutils literal"><span class="pre">ui.adjustment()</span></tt></a> used for the x-axis of the
viewport. When omitted, a new adjustment is created.</dd>
<dt><cite>yadjustment</cite></dt>
<dd>The <a class="reference internal" href="screen_python.html#ui.adjustment" title="ui.adjustment"><tt class="xref py py-func docutils literal"><span class="pre">ui.adjustment()</span></tt></a> used for the y-axis of the
viewport. When omitted, a new adjustment is created.</dd>
<dt><cite>xinitial</cite></dt>
<dd>The initial horizontal offset of the viewport. This may be an integer
giving the number of pixels, or a float giving a fraction of the
possible offset.</dd>
<dt><cite>yinitial</cite></dt>
<dd>The initial vertical offset of the viewport. This may be an integer
giving the number of pixels, or a float giving a fraction of the
possible offset.</dd>
<dt><cite>scrollbars</cite></dt>
<dd><p class="first">If not None, scrollbars are added allong with this viewport.
This works by creating a side layout, and placing the created
viewport in the center of the side. If <cite>scrollbars</cite> is &quot;horizontal&quot;,
a horizontal scrollbar is placed beneath the viewport. If <cite>scrollbars</cite>
is &quot;vertical&quot;, a vertical scrollbar is placed to the right of the
viewport. If <cite>scrollbars</cite> is &quot;both&quot;, both horizontal and vertical
scrollbars are created.</p>
<p class="last">If <cite>scrollbars</cite> is not None, the viewport takes properties prefixed
with &quot;<a class="reference internal" href="#side">side</a>&quot;. These are passed to the created side layout.</p>
</dd>
</dl>
<p>In addition, it takes the following groups of style properties:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
</ul>
<p>It takes one child. If zero, two, or more children are supplied, then
a fixed is created to contain them.</p>
<p>To make a viewport scrollable, it's often best to assign an id to it,
and then use <a class="reference internal" href="screen_actions.html#XScrollValue" title="XScrollValue"><tt class="xref py py-func docutils literal"><span class="pre">XScrollValue()</span></tt></a> and <a class="reference internal" href="screen_actions.html#YScrollValue" title="YScrollValue"><tt class="xref py py-func docutils literal"><span class="pre">YScrollValue()</span></tt></a> with that
id.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">viewport_example</span><span class="p">:</span>
    <span class="k">side</span> <span class="s">&quot;c b r&quot;</span><span class="p">:</span>
         <span class="na">area</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>

         <span class="k">viewport</span> <span class="na">id</span> <span class="s">&quot;vp&quot;</span><span class="p">:</span>
             <span class="na">draggable</span> <span class="bp">True</span>

             <span class="k">add</span> <span class="s">&quot;washington.jpg&quot;</span>

         <span class="k">bar</span> <span class="na">value</span> <span class="n">XScrollValue</span><span class="p">(</span><span class="s">&quot;vp&quot;</span><span class="p">)</span>
         <span class="k">vbar</span> <span class="na">value</span> <span class="n">YScrollValue</span><span class="p">(</span><span class="s">&quot;vp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="window">
<span id="sl-window"></span><h3>Window<a class="headerlink" href="#window" title="Permalink to this headline">¶</a></h3>
<p>A window is a window that contains a background that is intended for
displaying in-game dialogue. It takes the following groups of
properties:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#window-style-properties"><em>Window Style Properties</em></a></li>
</ul>
<p>It takes one child. If zero, two, or more children are supplied, then
a fixed is created to contain them.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">say</span><span class="p">:</span>
    <span class="k">window</span> <span class="na">id</span> <span class="s">&quot;window&quot;</span>
        <span class="k">vbox</span><span class="p">:</span>
            <span class="na">spacing</span> <span class="mi">10</span>

            <span class="k">text</span> <span class="n">who</span> <span class="na">id</span> <span class="s">&quot;who&quot;</span>
            <span class="k">text</span> <span class="n">what</span> <span class="na">id</span> <span class="s">&quot;what&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="imagemap-statements">
<h2>Imagemap Statements<a class="headerlink" href="#imagemap-statements" title="Permalink to this headline">¶</a></h2>
<p>A convenient way of creating a screen, especially for those who think
visually is to create an imagemap. When creating an imagemap, the
imagemap statement is used to specify up to six images. The hotspot
and hotbar images are used to carve rectangular areas out of the
image, and apply actions and values to those areas.</p>
<p>Here's an example of a preferences screen that uses imagemaps.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">preferences</span><span class="p">:</span>

    <span class="n">tag</span> <span class="k">menu</span>
    <span class="k">use</span> <span class="n">navigation</span>

    <span class="k">imagemap</span><span class="p">:</span>
        <span class="na">auto</span> <span class="s">&quot;gui_set/gui_prefs_</span><span class="si">%s</span><span class="s">.png&quot;</span>

        <span class="k">hotspot</span> <span class="p">(</span><span class="mi">740</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">73</span><span class="p">)</span> <span class="na">clicked</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;fullscreen&quot;</span><span class="p">)</span>
        <span class="k">hotspot</span> <span class="p">(</span><span class="mi">832</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">73</span><span class="p">)</span> <span class="na">clicked</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;window&quot;</span><span class="p">)</span>
        <span class="k">hotspot</span> <span class="p">(</span><span class="mi">1074</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">73</span><span class="p">)</span> <span class="na">clicked</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;transitions&quot;</span><span class="p">,</span> <span class="s">&quot;all&quot;</span><span class="p">)</span>
        <span class="k">hotspot</span> <span class="p">(</span><span class="mi">1166</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">73</span><span class="p">)</span> <span class="na">clicked</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;transitions&quot;</span><span class="p">,</span> <span class="s">&quot;none&quot;</span><span class="p">)</span>

        <span class="k">hotbar</span> <span class="p">(</span><span class="mi">736</span><span class="p">,</span> <span class="mi">415</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;music volume&quot;</span><span class="p">)</span>
        <span class="k">hotbar</span> <span class="p">(</span><span class="mi">1070</span><span class="p">,</span> <span class="mi">415</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;sound volume&quot;</span><span class="p">)</span>
        <span class="k">hotbar</span> <span class="p">(</span><span class="mi">667</span><span class="p">,</span> <span class="mi">535</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;voice volume&quot;</span><span class="p">)</span>
        <span class="k">hotbar</span> <span class="p">(</span><span class="mi">1001</span><span class="p">,</span> <span class="mi">535</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;text speed&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="imagemap">
<span id="sl-imagemap"></span><h3>Imagemap<a class="headerlink" href="#imagemap" title="Permalink to this headline">¶</a></h3>
<p>The imagemap statement is used to specify an imagemap. It takes no
parameters, and the following properties:</p>
<dl class="docutils">
<dt><cite>auto</cite></dt>
<dd><p class="first">Used to automatically define the images used by this imagemap. This
should be a string that contains %s in it. If it is, and one of
the image properties is omitted, %s is replaced with the name of
that property, and the value is used as the default for that
property.</p>
<p>For example, if <cite>auto</cite> is &quot;imagemap_%s.png&quot;, and <cite>idle</cite> is omitted, then
idle defaults to &quot;imagemap_idle.png&quot;.</p>
<p class="last">The behavior of <cite>auto</cite> can be customized by changing
<a class="reference internal" href="config.html#var-config.imagemap_auto_function"><tt class="xref std std-var docutils literal"><span class="pre">config.imagemap_auto_function</span></tt></a>.</p>
</dd>
<dt><cite>ground</cite></dt>
<dd>The image used for portions of the imagemap that are not part of a
hotspot or hotbar.</dd>
<dt><cite>insensitive</cite></dt>
<dd>The image used when a hotspot or hotbar is insensitive.</dd>
<dt><cite>idle</cite></dt>
<dd>The image used when a hotspot is not selected and not focused, and
for the empty portion of unfocused hotbars.</dd>
<dt><cite>hover</cite></dt>
<dd>The image used when a hotspot is not selected and focused, and
for the empty portion of focused hotbars.</dd>
<dt><cite>selected_idle</cite></dt>
<dd>The image used when a hotspot is selected and not focused, and
for the full portion of unfocused hotbars.</dd>
<dt><cite>selected_hover</cite></dt>
<dd>The image used when a hotspot is selected and focused, and
for the full portion of focused hotbars.</dd>
<dt><cite>alpha</cite></dt>
<dd>If true, the default, a hotspot only gains focus when the mouse is
in an area of the hover image that is opaque. If false, the hotspot
gains focus whenever the mouse is within its rectangular boundary.</dd>
<dt><cite>cache</cite></dt>
<dd>If true, the default, hotspot data is cached in to improve performance
at the cost of some additional disk space.</dd>
</dl>
<p>It takes the following groups of properties:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#position-style-properties"><em>Position Style Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#fixed-style-properties"><em>Fixed Style Properties</em></a></li>
</ul>
<p>An imagemap creates a fixed, allowing any child to be added to it (not
just hotspots and hotbars).</p>
</div>
<div class="section" id="hotspot">
<span id="sl-hotspot"></span><h3>Hotspot<a class="headerlink" href="#hotspot" title="Permalink to this headline">¶</a></h3>
<p>A hotspot is a button consisting of a portion of the imagemap that
contains it. It takes a single parameter, a (x, y, width, height)
tuple giving the area of the imagemap that makes up the button. It
also takes the following properties:</p>
<dl class="docutils">
<dt><cite>action</cite></dt>
<dd>The action to run when the button is activated. This also controls
if the button is sensitive, and if the button is selected.</dd>
<dt><cite>hovered</cite></dt>
<dd>An action to run when the button gains focus.</dd>
<dt><cite>unhovered</cite></dt>
<dd>An action to run when the button loses focus.</dd>
</dl>
<p>It also takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#button-style-properties"><em>Button Style Properties</em></a></li>
</ul>
<p>A hotspot creates a fixed, allowing children to be added to it. The
fixed has an area that is the same size as the hotspot, meaning that
the children will be positioned relative to the hotpsot.</p>
</div>
<div class="section" id="hotbar">
<span id="sl-hotbar"></span><h3>Hotbar<a class="headerlink" href="#hotbar" title="Permalink to this headline">¶</a></h3>
<p>A hotbar is a bar that consists of a portion of the imagemap that
contains it. It takes a single parameter, a (x, y, width, height)
tuple giving the area of the imagemap that makes up the button. It
also takes the following properties:</p>
<dl class="docutils">
<dt><cite>value</cite></dt>
<dd>The current value of the bar. This can be either a Value object,
or a number.</dd>
<dt><cite>range</cite></dt>
<dd>The maximum value of the bar. This is required if <cite>value</cite> is a
number.</dd>
<dt><cite>adjustment</cite></dt>
<dd>A <a class="reference internal" href="screen_python.html#ui.adjustment" title="ui.adjustment"><tt class="xref py py-func docutils literal"><span class="pre">ui.adjustment()</span></tt></a> object that this bar adjusts.</dd>
</dl>
<p>One of <cite>value</cite> or <cite>adjustment</cite> must be given. In addition, this
function takes:</p>
<ul class="simple">
<li><a class="reference internal" href="#common-properties"><em>Common Properties</em></a></li>
<li><a class="reference internal" href="style_properties.html#bar-style-properties"><em>Bar Style Properties</em></a></li>
</ul>
<p>This does not take children.</p>
</div>
</div>
<div class="section" id="advanced-displayables">
<h2>Advanced Displayables<a class="headerlink" href="#advanced-displayables" title="Permalink to this headline">¶</a></h2>
<p>In addition to the commonly-used statements, the screen language has
statements that correspond to advanced displayables. The mapping from
displayable to statement is simple. Positional parameters of the
displayables become positional parameters of the statement. Keyword
arguments and the relevant style properties become screen language
properties.</p>
<p>The advanced displayable statements are:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">drag</span></tt></dt>
<dd>Creates a <a class="reference internal" href="drag_drop.html#Drag" title="Drag"><tt class="xref py py-class docutils literal"><span class="pre">Drag</span></tt></a>. A drag can be given an optional child,
or the <a class="reference internal" href="style_properties.html#style-property-child"><tt class="xref std std-propref docutils literal"><span class="pre">child</span></tt></a> style property can be used to supply the child,
and its focused variants.</dd>
<dt><tt class="docutils literal"><span class="pre">draggroup</span></tt></dt>
<dd>Creates a <a class="reference internal" href="drag_drop.html#DragGroup" title="DragGroup"><tt class="xref py py-class docutils literal"><span class="pre">DragGroup</span></tt></a>. A drag group may have zero or more
drags as its children.</dd>
</dl>
</div>
<div class="section" id="has-statement">
<span id="sl-has"></span><h2>Has Statement<a class="headerlink" href="#has-statement" title="Permalink to this headline">¶</a></h2>
<p>The has statment allows you to specify a container to use, instead of
fixed, for statements that take only one child. The has statement
may only be used inside a statement that takes one child. The keyword
<tt class="docutils literal"><span class="pre">has</span></tt> is followed (on the same line) by another statement, which
must be a statement that creates a container displayable, one that
takes more than one child.</p>
<p>The has statement changes the way in which the block that contains it
is parsed. Child displayables created in that block are added to the
container, rather than the parent displayable. Keyword arguments to
the parent displayable are not allowed after the has
statement. Multiple has statements can be used in the same block.</p>
<p>The has statement can be supplied as a child of the following
statements:</p>
<ul class="simple">
<li>button</li>
<li>frame</li>
<li>window</li>
</ul>
<p>The has statement can be given the following statements as a
container.</p>
<ul class="simple">
<li>fixed</li>
<li>grid</li>
<li>hbox</li>
<li>side</li>
<li>vbox</li>
</ul>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">volume_controls</span><span class="p">:</span>
     <span class="k">frame</span><span class="p">:</span>
         <span class="k">has</span> <span class="k">vbox</span>

         <span class="k">bar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;sound volume&quot;</span><span class="p">)</span>
         <span class="k">bar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;music volume&quot;</span><span class="p">)</span>
         <span class="k">bar</span> <span class="na">value</span> <span class="n">Preference</span><span class="p">(</span><span class="s">&quot;voice volume&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="control-statements">
<h2>Control Statements<a class="headerlink" href="#control-statements" title="Permalink to this headline">¶</a></h2>
<p>The screen language includes control statements for conditional
execution, iteration, including other screens, executing actions when
events occur, and executing arbitrary python code.</p>
<div class="section" id="default">
<span id="sl-default"></span><h3>Default<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h3>
<p>The default statement sets the default value of a variable, if it is not
passed as an argument to the screen, or inherited from a screen that calls
us using the use statement.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">message</span><span class="p">:</span>
     <span class="na">default</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;No message defined.&quot;</span>
     <span class="k">text</span> <span class="n">message</span>
</pre></div>
</div>
</div>
<div class="section" id="for">
<span id="sl-for"></span><h3>For<a class="headerlink" href="#for" title="Permalink to this headline">¶</a></h3>
<p>The for statement is similar to the Python for statment, except that
it does not support the else clause. It supports assignment to
(optionally nested) tuple patterns, as well as variables.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">$</span> <span class="n">numerals</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&#39;I&#39;</span><span class="p">,</span> <span class="s">&#39;II&#39;</span><span class="p">,</span> <span class="s">&#39;III&#39;</span><span class="p">,</span> <span class="s">&#39;IV&#39;</span><span class="p">,</span> <span class="s">&#39;V&#39;</span> <span class="p">]</span>

<span class="k">screen</span> <span class="n">five_buttons</span><span class="p">:</span>
    <span class="k">vbox</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">numeral</span> <span class="k">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">numerals</span><span class="p">):</span>
            <span class="k">textbutton</span> <span class="n">numeral</span> <span class="na">action</span> <span class="n">Return</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="if">
<span id="sl-if"></span><h3>If<a class="headerlink" href="#if" title="Permalink to this headline">¶</a></h3>
<p>The screen language if statement is the same as the Python/Ren'Py if
statement. It supports the if, elif, and else clauses.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">skipping_indicator</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">skipping</span><span class="p">:</span>
         <span class="k">text</span> <span class="s">&quot;Skipping.&quot;</span>
    <span class="k">else</span><span class="p">:</span>
         <span class="k">text</span> <span class="s">&quot;Not Skipping.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="on">
<span id="sl-on"></span><h3>On<a class="headerlink" href="#on" title="Permalink to this headline">¶</a></h3>
<p>The on statement allows the screen to execute an action when an event
occurs. It takes one parameter, a string giving the name of an
event. This should be one of:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&quot;show&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;hide&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;replace&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;replaced&quot;</span></tt></li>
</ul>
<p>It then takes an action property, giving an action to run if the event
occurs.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">preferences</span><span class="p">:</span>
    <span class="k">frame</span><span class="p">:</span>
        <span class="k">has</span> <span class="k">hbox</span>

        <span class="k">text</span> <span class="s">&quot;Display&quot;</span>
        <span class="k">textbutton</span> <span class="s">&quot;Fullscreen&quot;</span> <span class="na">action</span> <span class="n">Preferences</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;fullscreen&quot;</span><span class="p">)</span>
        <span class="k">textbutton</span> <span class="s">&quot;Window&quot;</span> <span class="na">action</span> <span class="n">Preferences</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;window&quot;</span><span class="p">)</span>

    <span class="k">on</span> <span class="s">&quot;show&quot;</span> <span class="na">action</span> <span class="n">Show</span><span class="p">(</span><span class="s">&quot;navigation&quot;</span><span class="p">)</span>
    <span class="k">on</span> <span class="s">&quot;hide&quot;</span> <span class="na">action</span> <span class="n">Hide</span><span class="p">(</span><span class="s">&quot;navigation&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="use">
<span id="sl-use"></span><h3>Use<a class="headerlink" href="#use" title="Permalink to this headline">¶</a></h3>
<p>The use statement allows a screen to include another. The use
statement takes the name of the screen to use. This can optionally be
followed by an argument list, in parenthesis.</p>
<p>The scope of the included code includes the scope of the current
statement's code, updated by assinging the parameters their new
values.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">file_slot</span><span class="p">(</span><span class="n">slot</span><span class="p">):</span>
    <span class="k">button</span><span class="p">:</span>
        <span class="na">action</span> <span class="n">FileAction</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>

        <span class="k">has</span> <span class="k">hbox</span>

        <span class="k">add</span> <span class="n">FileScreenshot</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
        <span class="k">vbox</span><span class="p">:</span>
            <span class="k">text</span> <span class="n">FileTime</span><span class="p">(</span><span class="n">slot</span><span class="p">,</span> <span class="n">empty</span><span class="o">=</span><span class="s">&quot;Empty Slot.&quot;</span><span class="p">)</span>
            <span class="k">text</span> <span class="n">FileSaveName</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>


 <span class="k">screen</span> <span class="n">save</span><span class="p">:</span>
     <span class="k">grid</span> <span class="mi">2</span> <span class="mi">5</span><span class="p">:</span>
         <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="na">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
              <span class="k">use</span> <span class="n">file_slot</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="python">
<span id="sl-python"></span><h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>The screen language also includes single-line and multiple-line python
statements, which can execute python code. This code runs in the scope
of the screen.</p>
<p><strong>Python code must not cause side effects that are visible from
outside the screen.</strong> Ren'Py will run screen code multiple times, as it
deems necessary. It runs screen code as part of the image prediction
process, before the screen is first shown. As a result, if screen code
has side effects, those side effects may occur at unpredictable times.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">screen</span> <span class="n">python_screen</span><span class="p">:</span>
    <span class="k">python</span><span class="p">:</span>
        <span class="n">test_name</span> <span class="o">=</span> <span class="s">&quot;Test </span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">test_number</span>

    <span class="k">text</span> <span class="n">test_name</span>

    <span class="k">$</span> <span class="n">test_label</span> <span class="o">=</span> <span class="s">&quot;test_</span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">test_label</span>

    <span class="k">textbutton</span> <span class="s">&quot;Run Test&quot;</span> <span class="na">action</span> <span class="n">Jump</span><span class="p">(</span><span class="n">test_label</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="screen-statements">
<h2>Screen Statements<a class="headerlink" href="#screen-statements" title="Permalink to this headline">¶</a></h2>
<p>In addition to the screen statement, there are three Ren'Py script
language statements that involve screens.</p>
<p>Two of these statements take a keyword argument list. This is a python
argument list, in parenthesis, consisting of only keyword
arguments. Positional arguments, extra positional arguments (*), and
extra keyword arguments (**) are not allowed.</p>
<div class="section" id="show-screen">
<h3>Show Screen<a class="headerlink" href="#show-screen" title="Permalink to this headline">¶</a></h3>
<p>The show screen statement causes a screen to be shown. It takes an
screen name, and an optional argument list. If present, the arguments
are used to intialize the scope of the screen.</p>
<p>Screens shown in this way are displayed until they are explicitly
hidden. This allows them to be used for overlay purposes.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">show</span> <span class="k">screen</span> <span class="n">overlay_screen</span>
<span class="k">show</span> <span class="k">screen</span> <span class="n">clock_screen</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="hide-screen">
<h3>Hide Screen<a class="headerlink" href="#hide-screen" title="Permalink to this headline">¶</a></h3>
<p>The hide screen statement is used to hide a screen that is currently
being shown. If the screen is not being shown, nothing happens.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">hide</span> <span class="k">screen</span> <span class="n">overlay_screen</span>
<span class="k">hide</span> <span class="k">screen</span> <span class="n">clock</span>
</pre></div>
</div>
</div>
<div class="section" id="call-screen">
<h3>Call Screen<a class="headerlink" href="#call-screen" title="Permalink to this headline">¶</a></h3>
<p>The call screen statement shows a screen, and then hides it again at
the end of the current interaction. If the screen returns a value,
then the value is placed in <cite>_return</cite>.</p>
<p>This can be used to display an imagemap. The imagemap can place a
value into the <cite>_return</cite> variable using the <a class="reference internal" href="screen_actions.html#Return" title="Return"><tt class="xref py py-func docutils literal"><span class="pre">Return()</span></tt></a> action,
or can jump to a label using the <a class="reference internal" href="screen_actions.html#Jump" title="Jump"><tt class="xref py py-func docutils literal"><span class="pre">Jump()</span></tt></a> action.</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="k">call</span> <span class="k">screen</span> <span class="n">my_imagemap</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="screen-variants">
<span id="id2"></span><h2>Screen Variants<a class="headerlink" href="#screen-variants" title="Permalink to this headline">¶</a></h2>
<p>Ren'Py runs both on traditional mouse-oriented devices such as Windows,
Mac, and Linux PCs, and newer touch-oriented devices such as Android-based
smartphones and tablets. Screen variants allow a game to supply
multiple versions of a screen, and use the version that best matches
the hardware it is running on.</p>
<p>Ren'Py chooses a screen variant to use by searching variants in the
order they are listed in <a class="reference internal" href="config.html#var-config.variants"><tt class="xref std std-var docutils literal"><span class="pre">config.variants</span></tt></a>. The first variant
that exists is used.</p>
<p>If the RENPY_VARIANT environment variable is present, config.variants
is initialized by splitting the value of the variable on whitespace,
and then appending <tt class="docutils literal"><span class="pre">None</span></tt>. Setting RENPY_VARIANT to a value such as
<tt class="docutils literal"><span class="pre">&quot;medium</span> <span class="pre">tablet</span> <span class="pre">touch&quot;</span></tt> or <tt class="docutils literal"><span class="pre">&quot;small</span> <span class="pre">phone</span> <span class="pre">touch&quot;</span></tt> allows screens intended for
Android devices to be tested on a PC.</p>
<p>If the environment variable is not present, a list of variants is
built up automatically, by going through the following list in order
and choosing the entries that apply to the current platform.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">&quot;large&quot;</span></tt></dt>
<dd>A screen large enough that relatively small text can be
comfortably read, and buttons can be easily clicked. This
is used for computer screens.</dd>
<dt><tt class="docutils literal"><span class="pre">&quot;medium&quot;</span></tt></dt>
<dd>A screen where smallish text can be read, but buttons may
need to grow in size so they can be comfortably pressed.
This is used for tablets.</dd>
<dt><tt class="docutils literal"><span class="pre">&quot;small&quot;</span></tt></dt>
<dd>A screen where text must be expanded in order to be read. This
is used for phones and televisions. (A television might be
physically large, but it's often far away, making it hard
to read.)</dd>
<dt><tt class="docutils literal"><span class="pre">&quot;tablet&quot;</span></tt></dt>
<dd>Defined on touchscreen based devices where the screen has a
diagonal size of 6 inches or more. (In general, <tt class="docutils literal"><span class="pre">&quot;medium&quot;</span></tt> should
be used instead of <tt class="docutils literal"><span class="pre">&quot;tablet&quot;</span></tt>.)</dd>
<dt><tt class="docutils literal"><span class="pre">&quot;phone&quot;</span></tt></dt>
<dd>Defined on touchscren-based devices where the diagonal size of
the screen is less than 6 inches. On such a small device, it's
important to make buttons large enough a user can easily choose
them. (In general, <tt class="docutils literal"><span class="pre">&quot;small&quot;</span></tt> should be used instead of <tt class="docutils literal"><span class="pre">&quot;phone&quot;</span></tt>.)</dd>
<dt><tt class="docutils literal"><span class="pre">&quot;touch&quot;</span></tt></dt>
<dd>Defined on touchscreen-based devices.</dd>
<dt><tt class="docutils literal"><span class="pre">&quot;tv&quot;</span></tt></dt>
<dd>Defined on television-based devices.</dd>
<dt><tt class="docutils literal"><span class="pre">&quot;ouya&quot;</span></tt></dt>
<dd>Defined on the OUYA console. (<tt class="docutils literal"><span class="pre">&quot;tv&quot;</span></tt> and <tt class="docutils literal"><span class="pre">&quot;small&quot;</span></tt> are also defined.)</dd>
<dt><tt class="docutils literal"><span class="pre">&quot;pc&quot;</span></tt></dt>
<dd>Defined on Windows, Mac OS X, and Linux. A PC is expected to have
a mouse and keyboard present, to allow buttons to be hovered, and
to allow precise pointing.</dd>
<dt><tt class="docutils literal"><span class="pre">None</span></tt></dt>
<dd>Always defined.</dd>
</dl>
<p>An example of defining a screen variant is:</p>
<div class="highlight-renpy"><div class="highlight"><pre><span class="c"># A variant hello_world screen, used on small touch-based</span>
<span class="c"># devices.</span>
<span class="k">screen</span> <span class="n">hello_world</span><span class="p">:</span>
     <span class="n">tag</span> <span class="n">example</span>
     <span class="k">zorder</span> <span class="mi">1</span>
     <span class="n">modal</span> <span class="bp">False</span>
     <span class="n">variant</span> <span class="s">&quot;small&quot;</span>

     <span class="k">text</span> <span class="s">&quot;Hello, World.&quot;</span> <span class="na">size</span> <span class="mi">30</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
    </div>
    </div>
    <div class="related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >索引</a></li>
        <li class="right" >
          <a href="screen_actions.html" title="Screen Actions, Values, and Functions"
             >下一页</a> |</li>
        <li class="right" >
          <a href="style_properties.html" title="Style Properties"
             >上一页</a> |</li>

        <li> <img src="_static/logo.png" width=19 height=21 align=center> 
        <li> <a href="http://www.renpy.org/">主页</a> |
        <li><a href="index.html">文档</a></li> 
      </ul>
    </div>


	<script src="http://www.google.com/jsapi" type="text/javascript"></script>
	<script type="text/javascript"> 
	  google.load('search', '1', {language : 'en' });
	  google.setOnLoadCallback(function() {
	    var customSearchControl = new google.search.CustomSearchControl('012476843541036121001:gx3sqkoaxkm');
	    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	    var options = new google.search.DrawOptions();
	    options.enableSearchboxOnly("http://www.google.com/cse?cx=012476843541036121001:gx3sqkoaxkm");
	    customSearchControl.draw('cse-search-form', options);
	  }, true);
	</script>

  </body>
</html>